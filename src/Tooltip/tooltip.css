@import "../proto/definitions/variables.css";
@import "../proto/definitions/_fonts.css";


:root
{
    --tooltipBorderRadius:  2px;

    --tooltipMaxWidth:      360px;
    --tooltipMaxHeight:     100vh;

    --tooltipOffset:        var( --spacing-1 );
}


.default
{
    position:   relative;
    display:    inline-block;
    max-width:  100%;

    .content
    {
        display:        flex;
        flex-direction: column;
    }

    .tooltipContainer
    {
        visibility: hidden;
        position:   absolute;
        & .tooltip,
        & .message
        {
          white-space: nowrap;
        }
    }

    .tooltip
    {
        visibility:     visible;
        position:       relative;

        box-sizing:     border-box;
        /* max-width:      var( --tooltipMaxWidth ); */
        /* max-height:     var( --tooltipMaxHeight ); */
        display: inline-block;

        border-radius:  var( --tooltipBorderRadius );
        box-shadow:     var( --boxShadow );
        padding:        var( --spacing-1 ) var( --spacing-2 );

        background:     var( --PC-GREY--D15 );

        &::before,
        &::after
        {
            content:    "";
            position:   absolute;
        }
        &:after
        {
          border-color: var( --PC-GREY--D15 );
        }
    }

    .message
    {
        @extend %Nessie-SemiBold;
        color:          var( --PC-WHITE );
        overflow-wrap:  break-word;

        a:any-link
        {
            color:              inherit !important;
            text-decoration:    underline;
        }
    }

    .close
    {
        position:   absolute;
        top:        var( --spacing-1 );
        right:      var( --spacing-2 );
    }
}


.dismissible
{
    .tooltip
    {
        padding-right:  var( --spacing-6 );
    }
}

.position__top,
.position__bottom,
.position__topLeft,
.position__topRight,
.position__bottomLeft,
.position__bottomRight,

.position__left,
.position__right,
.position__leftTop,
.position__leftBottom,
.position__rightTop,
.position__rightBottom
{
    .tooltip
    {
      &::before
      {
        left:   0;
        right:  0;
        height: var( --tooltipOffset );
      }
      &::after
      {
        width: 0;
        height: 0;
        border-style: solid;
      }
    }
}

.position__top,
.position__topLeft,
.position__topRight,
.position__bottom,
.position__bottomLeft,
.position__bottomRight
{
  .tooltip
  {
    &::after
    {
      border-width: 7px 5px;
      border-left-color: transparent;
      border-right-color: transparent;
    }
  }
}

.position__left,
.position__leftTop,
.position__leftBottom,
.position__right,
.position__rightTop,
.position__rightBottom
{
  .tooltip
  {
    &::after
    {
      border-width: 5px 7px;
      border-top-color: transparent;
      border-bottom-color: transparent;
    }
  }
}

.position__top,
.position__topLeft,
.position__topRight
{
    .tooltipContainer
    {
        bottom:    100%;
    }

    .tooltip
    {

        &::before
        {
            top:    100%;
        }
        &::after
        {
          bottom: 0;
          border-bottom-color: transparent;
        }
    }
}

.position__bottom,
.position__bottomLeft,
.position__bottomRight
{
    .tooltipContainer
    {
        top: 100%;
    }

    .tooltip
    {
        top:    0;

        &::before
        {
            bottom: 100%;
        }
        &::after
        {
          top: 0;
          border-top-color: transparent;
        }
    }
}



.position__top,
.position__bottom
{
    .tooltipContainer
    {
        left:   50%;
        transform: translate3d( -50%, 0, 0 );
    }

    .tooltip
    {
        &::after
        {
          left: 50%;
        }
    }
}

.position__top
{
    .tooltip
    {
        &::after
        {
          transform: translate3d( -50%, calc( 1.75 * var( --tooltipOffset ) ), 0);
        }
    }
}

.position__bottom
{
    .tooltip
    {

        &::after
        {
          transform: translate3d( -50%, calc( -1.75 * var( --tooltipOffset ) ), 0);
        }
    }
}

.position__topLeft,
.position__bottomLeft
{
  .tooltipContainer
  {
    left: 50%;
    transform: translate3d( -83%, 0, 0 );
  }
  .tooltip
  {
    &::after
    {
      left: 83%;
    }
  }
}

.position__topRight,
.position__bottomRight
{
  .tooltipContainer
  {
    right: 50%;
    transform: translate3d( 83%, 0, 0 );
  }
  .tooltip
  {
    &::after
    {
      right: 83%;
    }
  }
}


.position__topLeft,
.position__topRight
{
    .tooltip
    {
        &::after
        {
          transform: translate3d( 0, calc( 1.75 * var( --tooltipOffset ) ), 0);
        }
    }
}

.position__bottomLeft,
.position__bottomRight
{
    .tooltip
    {

        &::after
        {
          transform: translate3d( 0, calc( -1.75 * var( --tooltipOffset ) ), 0);
        }
    }
}

.position__left,
.position__right
{
    .tooltipContainer
    {
        top:    50%;
        transform: translate3d( 0, -50%, 0);
    }

    .tooltip
    {
        &::before
        {
            top:    0;
            bottom: 0;
            width:  var( --tooltipOffset );
        }
        &::after
        {
          top:    50%;
          transform: translate3d( calc( 1.75 * var( --tooltipOffset ) ), -50%, 0);
        }
    }
}

.position__left
{
    .tooltipContainer
    {
        right:       100%;
    }

    .tooltip
    {
        &::before
        {
            left:   100%;
        }
        &::after
        {
          border-right-color: transparent;
          right: 0;
          transform: translate3d( calc( 1.75 * var( --tooltipOffset ) ), -50%, 0);
        }
    }
    &Top
    {
      .tooltipContainer
      {
          top:    50%;
          right:  100%;
          transform: translate3d( 0, -73%, 0);
      }
      .tooltip
      {
        &::after
        {
          border-right-color: transparent;
          right: 0;
          top: 60%;
          transform: translate3d( calc( 1.75 * var( --tooltipOffset ) ), 0, 0);
        }
      }
    }
    &Bottom
    {
      .tooltipContainer
      {
          bottom:    50%;
          right:  100%;
          transform: translate3d( 0, 73%, 0);
      }
      .tooltip
      {
        &::after
        {
          border-right-color: transparent;
          right: 0;
          bottom: 60%;
          transform: translate3d( calc( 1.75 * var( --tooltipOffset ) ), 0, 0);
        }
      }
    }
}

.position__right
{
    .tooltipContainer
    {
        left:      100%;
    }

    .tooltip
    {
        &::before
        {
            left:  100%;
        }
        &::after
        {
          border-left-color: transparent;
          left: 0;
          transform: translate3d( calc( -1.75 * var( --tooltipOffset ) ), -50%, 0);
        }
    }
    &Top
    {
      .tooltipContainer
      {
          top:    50%;
          left:  130%;
          transform: translate3d( 0, -73%, 0);
      }
      .tooltip
      {
        &::after
        {
          border-left-color: transparent;
          left: 0;
          top: 60%;
          transform: translate3d( calc( -1.75 * var( --tooltipOffset ) ), 0, 0);
        }
      }
    }
    &Bottom
    {
      .tooltipContainer
      {
          bottom:    50%;
          left:  130%;
          transform: translate3d( 0, 73%, 0);
      }
      .tooltip
      {
        &::after
        {
          border-left-color: transparent;
          left: 0;
          bottom: 60%;
          transform: translate3d( calc( -1.75 * var( --tooltipOffset ) ), 0, 0);
        }
      }
    }
}


.role__critical
{
    .tooltip
    {
      background: var( --PC-RED );
    }
    &.position__top,
    &.position__topLeft,
    &.position__topRight
    {
      .tooltip
      {
        &::after
        {
          border-top-color: var( --PC-RED );
        }
      }
    }

    &.position__left,
    &.position__leftTop,
    &.position__leftBottom
    {
      .tooltip
      {
        &::after
        {
          border-left-color: var( --PC-RED );
        }
      }
    }

    &.position__right,
    &.position__rightTop,
    &.position__rightBottom
    {
      .tooltip
      {
        &::after
        {
          border-right-color: var( --PC-RED );
        }
      }
    }

    &.position__bottom,
    &.position__bottomLeft,
    &.position__bottomRight
    {
      .tooltip
      {
        &::after
        {
          border-bottom-color: var( --PC-RED );
        }
      }
    }
}

.role__promoted
{
    .tooltip
    {
      background: var( --PC-GREEN );
    }
    &.position__top,
    &.position__topLeft,
    &.position__topRight
    {
      .tooltip
      {
        &::after
        {
          border-top-color: var( --PC-GREEN );
        }
      }
    }

    &.position__left,
    &.position__leftTop,
    &.position__leftBottom
    {
      .tooltip
      {
        &::after
        {
          border-left-color: var( --PC-GREEN );
        }
      }
    }

    &.position__right,
    &.position__rightTop,
    &.position__rightBottom
    {
      .tooltip
      {
        &::after
        {
          border-right-color: var( --PC-GREEN );
        }
      }
    }

    &.position__bottom,
    &.position__bottomLeft,
    &.position__bottomRight
    {
      .tooltip
      {
        &::after
        {
          border-bottom-color: var( --PC-GREEN );
        }
      }
    }
}

.role__warning
{
    .tooltip
    {
      background: var( --PC-ORANGE );
    }
    &.position__top,
    &.position__topLeft,
    &.position__topRight
    {
      .tooltip
      {
        &::after
        {
          border-top-color: var( --PC-ORANGE );
        }
      }
    }
    &.position__left,
    &.position__leftTop,
    &.position__leftBottom
    {
      .tooltip
      {
        &::after
        {
          border-left-color: var( --PC-ORANGE );
        }
      }
    }

    &.position__right,
    &.position__rightTop,
    &.position__rightBottom
    {
      .tooltip
      {
        &::after
        {
          border-right-color: var( --PC-ORANGE );
        }
      }
    }

    &.position__bottom,
    &.position__bottomLeft,
    &.position__bottomRight
    {
      .tooltip
      {
        &::after
        {
          border-bottom-color: var( --PC-ORANGE );
        }
      }
    }
}



.position__top
{
  .tooltipContainer
  {
    transform: translate3d( -50%, -30%, 0 );
  }
  &Left
  {
    .tooltipContainer
    {
      transform: translate3d( -83%, -30%, 0 );
    }
  }
  &Right
  {
    .tooltipContainer
    {
      transform: translate3d( 83%, -30%, 0 );
    }
  }
}

.position__left
{
  .tooltipContainer
  {
    transform: translate3d( -10%, -50%, 0 );
  }
  &Top
  {
    .tooltipContainer
    {
      transform: translate3d( -10%, -73%, 0 );
    }
  }
  &Bottom
  {
    .tooltipContainer
    {
      transform: translate3d( -10%, 73%, 0 );
    }
  }
}

.position__right
{
  .tooltipContainer
  {
    transform: translate3d( -10%, -50%, 0 );
  }
  &Top
  {
    .tooltipContainer
    {
      transform: translate3d( -10%, -73%, 0 );
    }
  }
  &Bottom
  {
    .tooltipContainer
    {
      transform: translate3d( -10%, 73%, 0 );
    }
  }
}

.position__bottom
{
  .tooltipContainer
  {
    transform: translate3d( -50%, 30%, 0 );
  }
  &Left
  {
    .tooltipContainer
    {
      transform: translate3d( -83%, 30%, 0 );
    }
  }
  &Right
  {
    .tooltipContainer
    {
      transform: translate3d( 83%, 30%, 0 );
    }
  }
}
